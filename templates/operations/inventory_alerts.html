{% extends 'base.html' %}

{% block title %}Inventory Alerts{% endblock %}
{% block page_title %}Inventory Alerts{% endblock %}

{% block content %}
<!-- Out of Stock -->
<div class="glass-card fade-up mb-3">
    <div class="card-header">
        <h3>ðŸ”´ Out of Stock</h3>
        <span class="badge badge-high">{{ out_of_stock|length }} items</span>
    </div>
    {% if out_of_stock %}
    <div class="table-container">
        <table class="data-table">
            <thead>
                <tr>
                    <th>Part</th>
                    <th>Make</th>
                    <th>Model</th>
                    <th>Source</th>
                    <th>Stock</th>
                </tr>
            </thead>
            <tbody>
                {% for p in out_of_stock %}
                <tr>
                    <td class="td-bold">{{ p.name }}</td>
                    <td>{{ p.make }}</td>
                    <td>{{ p.model }}</td>
                    <td>{{ p.get_source_display }}</td>
                    <td class="stock-out" style="font-weight:700;">0</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    {% else %}
    <div class="empty-state">
        <p>No out-of-stock items ðŸŽ‰</p>
    </div>
    {% endif %}
</div>

<!-- Low Stock -->
<div class="glass-card fade-up">
    <div class="card-header">
        <h3>ðŸŸ¡ Low Stock (< 5)</h3>
                <span class="badge badge-medium">{{ low_stock|length }} items</span>
    </div>
    {% if low_stock %}
    <div class="table-container">
        <table class="data-table">
            <thead>
                <tr>
                    <th>Part</th>
                    <th>Make</th>
                    <th>Model</th>
                    <th>Source</th>
                    <th>Stock</th>
                </tr>
            </thead>
            <tbody>
                {% for p in low_stock %}
                <tr>
                    <td class="td-bold">{{ p.name }}</td>
                    <td>{{ p.make }}</td>
                    <td>{{ p.model }}</td>
                    <td>{{ p.get_source_display }}</td>
                    <td class="stock-low" style="font-weight:700;">{{ p.stock_quantity }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    {% else %}
    <div class="empty-state">
        <p>All stock levels healthy ðŸŽ‰</p>
    </div>
    {% endif %}
</div>
{% endblock %}